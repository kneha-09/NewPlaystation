<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous"></script>

    <title>Document</title>
</head>
<body>
   
</div>
     <!-- <button onclick="geolocation()">Get location</button> -->
     <!-- <p id="out"></p>
     <p id="weather"></p> -->

     <button class="out" onclick="geolocation()" type="button" class="btn btn-secondary" data-bs-toggle="tooltip" data-bs-placement="bottom" title="weather of the city is">
        Get location
      </button>
     

      <div class="accordion accordion-flush" id="accordionFlushExample">
        <div class="accordion-item">
          <h2 class="accordion-header" id="flush-headingOne">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseOne" aria-expanded="false" aria-controls="flush-collapseOne">
              <img src="" alt="">
            </button>
          </h2>
          <div id="flush-collapseOne" class="accordion-collapse collapse" aria-labelledby="flush-headingOne" data-bs-parent="#accordionFlushExample">
            <div class="accordion-body">
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                <code>.accordion-flush</code> class. This is the first item's accordion body.</div>
          </div>
        </div></div>











     <script>
        var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'))
var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
  return new bootstrap.Tooltip(tooltipTriggerEl)
})
        
        let x=document.getElementById("out");
        let y=document.getElementById("weather");


        function geolocation(){
            if(navigator.geolocation){//inbuild feature of html navigator if it support then
                navigator.geolocation.getCurrentPosition(showPosition)
            }
            else{
                x.innerText="Geo not supported"
            }
        }
        function showPosition(data){
            console.log(data)
            let lat=data.coords.latitude;
            let lon=data.coords.longitude;
            x.innerText=`latitude is ${lat} and longitude is ${lon}`
            //api calling
            const url=`https://api.openweathermap.org/data/2.5/forecast/daily?lat=${lat}&lon=${lon}&mode=json&units=metric&cnt=5&appid=fbf712a5a83d7305c3cda4ca8fe7ef29`;
            //
            fetch(url,{method:`GET`})//for getting the data use GET method, fetch is a method 
            .then((res) =>res.json())//promise is pending 
            //resolve the promise
            .then((data)=>{//we get the data
                console.log(data)
                let cityName=data.city.name;
                let temp=data.list[0].temp.day+` degree celcius`;
                y.innerText=`weather of ${cityName} is ${temp}`
            })
        }
     </script>
</body>
</html>